<div>
  <nz-page-header
    class="site-page-header"
    (nzBack)="onBack()"
    nzBackIcon
    nzTitle="Proof of Payment"
    nzSubtitle="Print Proof of Payment"
  ></nz-page-header>
</div>

<div class="row mt-5">
  <div class="col-md-10">
    <div class="screen-container">
      <nz-spin nzTip="Loading Transaction..." [nzSpinning]="transactionLoading || popLoading">
        <div *ngIf="!transactionLoading && transaction" id="contentToConvert">
        <div class="view-transaction-area">
          <div class="view-transaction-header">
            <div class="row">
              <div class="col">
                <span class="view-transaction-id-header">
                  <span class="view-transaction-id-id">ZIMRA OVER THE COUNTER</span>
                </span>
                <div>
                  <span style="font-size: 24px; font-weight: bold">PAYER INFORMATION</span>
                  <p>
                    <span style="font-weight: bold">Name: </span> <span>{{transaction.payerFullName}}</span> <br>
                    <span style="font-weight: bold">Mobile Number: </span> <span>{{transaction.payerMobileNumber}}</span>
                    <br>
                    <span style="font-weight: bold">ID Number: </span> <span>{{transaction.payerIdNumber}}</span> <br>
                  </p>
                </div>
              </div>
              <div class="col d-flex justify-content-end">
                <img src="assets/images/AFC.png" style="max-height: 100px;" alt="">
              </div>
            </div>


            <div class="row">
              <div class="col">
                <span class="d-flex justify-content-start"></span>
                <span class="d-flex justify-content-end" style="text-align: right; font-size: 14px">
        Hurudza House <br>
        14-16 Nelson Mandela Avenue, <br>
        Harare, Zimbabwe
      </span>
              </div>
            </div>
          </div>


          <div class="view-transactions-details-area mt-5">
            <div class="view-transaction-details">
              <div class="pop-transaction-details"  >
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Payment Type: </span> <span style="text-align: right;">{{transaction.paymentType}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Tax Type: </span> <span style="text-align: right;">{{transaction.taxType}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">TIN: </span> <span style="text-align: right;">{{transaction.tin}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Transaction Date: </span> <span style="text-align: right;">{{transaction.updatedAt}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Sending Bank: </span> <span>AFC Commercial Bank</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Sending Account: </span> <span>{{transaction.sourceAccount}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Amount: </span> <span>{{zigConverter(transaction.currencyCode)}}  {{transaction.amount}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">FT Reference: </span> <span>{{transaction.response.debitReference}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">RRN: </span> <span>{{transaction.response.additionalData.RRN}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Reference: </span> <span>{{transaction.userReference}}</span>
                </div>
                <div class="confirm-transaction-element">
                  <span style="font-weight: bold">Status: </span>
                    <nz-tag [nzColor]=(transactionStatus[transaction.status]) class="ticket-status-tag">{{replaceUnderscoreWithSpace(transaction.status)}}</nz-tag>
                </div>
                <br>


              </div>
            </div>
          </div>

          <div>

          </div>

          <div class="mt-3 mb-3">
            <p style="text-align: center; font-size: 12px">This Proof of Payment was generated on {{generateCurrentDate()}}</p>
          </div>

          <div>
            <div class="row mt-5">
              <div class="col-md-6 d-flex align-items-end justify-content-center">
                <div>
                  <div><span>---------------------------------------</span></div>
                  <div class="d-flex justify-content-center"><span style="font-weight: bold; text-align: center">CLIENT'S SIGNATURE</span></div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="d-flex justify-content-end" style="padding-right: 30px">
                  <div class="image-box">
                    <div class="d-flex justify-content-center">
                      <div class="col-md-12" style="text-align: center">
                        <p class="stamp-header">AFC Commercial Bank</p>
                        <p class="stamp-text">Date: {{ transaction.updatedAt }}</p>
                        <p class="stamp-text">Authorised Digital Stamp</p>
                        <p class="stamp-text">contactcentre@afcholdings.co.zw</p>
                        <p class="stamp-text">TEL: +263 242 774400-09</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div style="padding: 20px"></div>


            <!--      <div class=" mt-5 afc-pattern"></div>-->
            <div class="pop-official-note mt-5">
        <span>
          <p style="text-align: center !important; font-weight: bold; font-size: 12px; padding-bottom: 0px; margin-bottom: 0px">
            Official Note from the Bank
          </p>

        </span>
              <p style="text-align: center; font-size: 12px">
                AFC Commercial Bank (Registered Commercial Bank) will never send you an e-mail requesting you
                to enter your personal details or private identification and/or authentication details.
              </p>
            </div>

          </div>





        </div>





      </div>
      </nz-spin>
    </div>
  </div>
  <div class="col-md-2">
    <div class="screen-container">
      <button nz-button nzType="primary" (click)="generatePDF()">
        <span nz-icon nzType="printer"></span>
        Print
      </button>
    </div>
  </div>
</div>
