<div class="row">
  <div class="d-flex justify-content-center">
    <div class="col-md-6">
      <div class="screen-container">

        <div class="d-flex justify-content-center">
          <img src="./assets/images/zimra.png" style="max-width: 100px" alt="">
        </div>

        <h5 style="text-align: center">TIN Verification</h5>

        <nz-spin nzTip="Fetching Details..." [nzSpinning]="fetchDetailsLoader">
          <nz-form-item>
            <nz-select nzPlaceHolder="Select the Tax Type" [(ngModel)]="tinVerificationRequest.taxType">
              <nz-option nzValue="DOMESTIC" nzLabel="Domestic Taxes TIN (Income Tax, VAT, QPD, etc)"></nz-option>
              <nz-option nzValue="ASSESSMENT" nzLabel="Assessment Number (Duty Payments)"></nz-option>
              <nz-option nzValue="PRE_ASSESSMENT" nzLabel="Prepayment TIN (Duty Payments)"></nz-option>
            </nz-select>
          </nz-form-item>
          <nz-form-item *ngIf="tinVerificationRequest.taxType != 'ASSESSMENT'">
            <nz-select nzPlaceHolder="Select Currency" [(ngModel)]="tinVerificationRequest.sourceAccountCurrency">
              <nz-option nzValue="USD" nzLabel="USD"></nz-option>
              <nz-option nzValue="ZWL" nzLabel="ZiG"></nz-option>
            </nz-select>
          </nz-form-item>
          <nz-form-item>
            <input nz-input [placeholder]="(tinVerificationRequest.taxType != 'ASSESSMENT') ? 'Enter TIN' : 'Enter Assessment Number'" [(ngModel)]="tinVerificationRequest.tin" />
          </nz-form-item>

          <div class="d-flex justify-content-center mt-5">
            <button nz-button nzType="primary" (click)="fetchAuthDetails()" [disabled]="fetchDetailsLoader">
              <span nz-icon nzType="sync"></span>
              Verify TIN
            </button>
          </div>

          <div class="mt-3">

            <div *ngIf="authData">
              <nz-list nzBordered>
                <nz-list-item *ngFor="let data of authData.ConfirmData">
                  <span nz-typography><mark>{{data.display}}</mark></span>
                  {{data.value}}
                </nz-list-item>
                <nz-list-item>
                  <span nz-typography><mark>ZIMRA Account</mark></span>
                  {{authData.BILL_AUTH_RESPONSE.accountNumber}}
                </nz-list-item>
                <nz-list-item>
                  <span nz-typography><mark>Currency</mark></span>
                  {{changeZWLtoZiG(authData.BILL_AUTH_RESPONSE.currencyCode)}}
                </nz-list-item>
              </nz-list>
            </div>

          </div>
        </nz-spin>

      </div>
    </div>
  </div>
</div>

